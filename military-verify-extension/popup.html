<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Military Verification Tool</title>
  <link rel="stylesheet" href="popup.css">
</head>

<body>
  <div class="container">
    <header>
      <h1>ğŸ–ï¸ Military Verify</h1>
      <p class="subtitle">VLM Scraper & Auto-fill</p>
    </header>

    <!-- Tabs -->
    <div class="tabs">
      <button class="tab-btn active" data-tab="quick">Quick Fill</button>
      <button class="tab-btn" data-tab="vlm">VLM Data</button>
      <button class="tab-btn" data-tab="fill">Manual</button>
      <button class="tab-btn" data-tab="data">Saved</button>
    </div>

    <!-- Quick Fill Tab - Paste text and fill -->
    <div id="quick" class="tab-content active">
      <div class="form-group">
        <label>Paste Veteran Data (format below)</label>
        <textarea id="quickText" rows="3"
          placeholder="ROGER SCOTT|BALL|Navy|July|19|1946|February|9|2025|email@example.com"></textarea>
      </div>
      <p class="hint">Format:
        FirstName|LastName|Branch|BirthMonth|BirthDay|BirthYear|DeathMonth|DeathDay|DeathYear|Email</p>

      <div class="btn-group">
        <button id="parseAndFillBtn" class="btn success">ğŸš€ Parse & Fill</button>
        <button id="nextLineBtn" class="btn warning">â­ï¸ Next</button>
      </div>

      <div class="form-group" style="margin-top:12px;">
        <label>Current Line: <span id="currentLineNum">0</span>/<span id="totalLines">0</span></label>
        <div id="currentVeteran" class="current-veteran"></div>
      </div>

      <div id="quickStatus" class="status"></div>
    </div>

    <!-- VLM Data Tab - Scrape from VLM -->
    <div id="vlm" class="tab-content">
      <div class="form-group">
        <label>Scraped Veterans from VLM</label>
        <textarea id="vlmData" rows="8"
          placeholder="Click 'Scrape VLM' on vlm.cem.va.gov to get data here...&#10;&#10;Or paste data manually:&#10;ROGER SCOTT|BALL|Navy|July|19|1946|February|9|2025"></textarea>
      </div>

      <div class="btn-group">
        <button id="scrapeVlmBtn" class="btn primary">ğŸ“¥ Scrape VLM Page</button>
        <button id="copyVlmBtn" class="btn secondary">ğŸ“‹ Copy All</button>
      </div>

      <div class="btn-group">
        <button id="openVlmSearchBtn" class="btn secondary">ğŸ” Open VLM Search</button>
        <button id="clearVlmBtn" class="btn danger">ğŸ—‘ï¸ Clear</button>
      </div>

      <div class="form-group" style="margin-top:12px;">
        <label>VLM Search Filters</label>
        <div class="form-row">
          <input type="text" id="vlmLastName" placeholder="Last name (required)">
          <select id="vlmBranch">
            <option value="">All Branches</option>
            <option value="US ARMY">Army</option>
            <option value="US NAVY">Navy</option>
            <option value="US AIR FORCE">Air Force</option>
            <option value="US MARINE CORPS">Marine Corps</option>
            <option value="US COAST GUARD">Coast Guard</option>
          </select>
        </div>
        <div class="form-row" style="margin-top:6px;">
          <input type="number" id="vlmDeathYear" placeholder="Death Year" value="2025">
        </div>
      </div>

      <div id="vlmStatus" class="status"></div>
    </div>

    <!-- Manual Fill Form Tab -->
    <div id="fill" class="tab-content">
      <div class="form-group">
        <label>Status</label>
        <select id="status">
          <option value="MILITARY_VETERAN">Military Veteran or Retiree</option>
          <option value="ACTIVE_DUTY">Active Duty</option>
          <option value="RESERVIST">Reservist</option>
          <option value="MILITARY_FAMILY">Military Family Member</option>
        </select>
      </div>

      <div class="form-group">
        <label>Branch of Service</label>
        <select id="branch">
          <option value="Army">Army</option>
          <option value="Navy">Navy</option>
          <option value="Air Force">Air Force</option>
          <option value="Marine Corps">Marine Corps</option>
          <option value="Coast Guard">Coast Guard</option>
          <option value="Space Force">Space Force</option>
          <option value="National Guard">National Guard</option>
        </select>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label>First Name</label>
          <input type="text" id="firstName" placeholder="ROGER">
        </div>
        <div class="form-group">
          <label>Last Name</label>
          <input type="text" id="lastName" placeholder="BALL">
        </div>
      </div>

      <div class="form-group">
        <label>Date of Birth</label>
        <div class="date-row">
          <select id="birthMonth">
            <option value="">Month</option>
            <option value="January">January</option>
            <option value="February">February</option>
            <option value="March">March</option>
            <option value="April">April</option>
            <option value="May">May</option>
            <option value="June">June</option>
            <option value="July">July</option>
            <option value="August">August</option>
            <option value="September">September</option>
            <option value="October">October</option>
            <option value="November">November</option>
            <option value="December">December</option>
          </select>
          <input type="number" id="birthDay" placeholder="Day" min="1" max="31">
          <input type="number" id="birthYear" placeholder="Year" min="1900" max="2010">
        </div>
      </div>

      <div class="form-group">
        <label>Discharge/Death Date</label>
        <div class="date-row">
          <select id="dischargeMonth">
            <option value="">Month</option>
            <option value="January">January</option>
            <option value="February">February</option>
            <option value="March">March</option>
            <option value="April">April</option>
            <option value="May">May</option>
            <option value="June">June</option>
            <option value="July">July</option>
            <option value="August">August</option>
            <option value="September">September</option>
            <option value="October">October</option>
            <option value="November">November</option>
            <option value="December">December</option>
          </select>
          <input type="number" id="dischargeDay" placeholder="Day" min="1" max="31">
          <input type="number" id="dischargeYear" placeholder="Year" min="1900" max="2030">
        </div>
      </div>

      <div class="form-group">
        <label>Email Address</label>
        <input type="email" id="email" placeholder="email@example.com">
      </div>

      <div class="btn-group">
        <button id="fillBtn" class="btn primary">ğŸš€ Fill Form</button>
        <button id="saveBtn" class="btn secondary">ğŸ’¾ Save</button>
      </div>

      <div id="fillStatus" class="status"></div>
    </div>

    <!-- Saved Data Tab -->
    <div id="data" class="tab-content">
      <div class="data-actions">
        <button id="importBtn" class="btn secondary">ğŸ“¥ Import</button>
        <button id="exportBtn" class="btn secondary">ğŸ“¤ Export</button>
        <button id="exportTextBtn" class="btn secondary">ğŸ“‹ Text</button>
        <button id="clearBtn" class="btn danger">ğŸ—‘ï¸</button>
      </div>
      <input type="file" id="importFile" accept=".json,.txt" style="display:none">

      <h3>Saved Veterans (<span id="veteranCount">0</span>)</h3>
      <div id="veteranList" class="veteran-list"></div>
    </div>
  </div>

  <script src="popup.js"></script>
</body>

</html>